<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Task4</title>
</head>
<body>
	<div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
	<button id="fade-btn">淡出</button>
</body>
<script>
	var button = document.getElementById("fade-btn");
	var fade = document.getElementById("fade-obj");

	button.onclick = function(){
		if (fade.style.opacity == "" || fade.style.opacity >= 1){
			fade.style.opacity = 1;
			var timer1 = setInterval(function(){			
				if(fade.style.opacity > 0){
					button.setAttribute("disabled", true);
					fade.style.opacity -= 0.05;
				}else{
					button.removeAttribute("disabled");
					button.innerHTML = "淡入";
					clearInterval(timer1);
				}	
			}, 20);
		}else if(fade.style.opacity <= 0) {
			var timer2 = setInterval(function(){
				if (fade.style.opacity < 1) {
					button.setAttribute("disabled", true);
					/*fade.style.opacity 返回字符串，因此要先将其变成 number 类型*/
					fade.style.opacity = Number(fade.style.opacity) + 0.05;
				}else{
					button.removeAttribute("disabled");
					button.innerHTML = "淡出";
					clearInterval(timer2);
				}
			}, 20);
		}
	}
	
</script>
</html>
